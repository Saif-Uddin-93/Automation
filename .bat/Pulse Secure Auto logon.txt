@echo off

SET USER=%USERNAME%
SET PULSE=C:\Program Files (x86)\Common Files\Pulse Secure\Integration\pulselauncher.exe
SET PULSE_SERVER=https://secure.example.domain.com
SET /A ATTEMPTS=0

:ATTEMPT
if %ATTEMPTS% GTR 0 (
	GOTO:PASSWORD
)else(
	GOTO:VPN
)

:PASSWORD
SET /p newpass="Enter Password: "
echo %newpass%>"C:\temp\pwd.txt"

:VPN
SET /A ATTEMPTS+=1
echo Attempt %ATTEMPTS%
echo Pulse Secure Login
SET /p PASS=<C:\temp\pwd.txt
"%PULSE%" -u %USER% -p %PASS% -url %PULSE_SERVER% -r User
IF %ERRORLEVEL% NEQ 0Â GOTO:ATTEMPT

pause